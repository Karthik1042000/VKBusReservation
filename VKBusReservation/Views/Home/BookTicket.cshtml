@using VKBusReservation.Models.DTO
@model AddReservationDTO
@{
    ViewData["Title"] = "Book Ticket";
    ViewData["Title2"] = "Edit Ticket";
    Layout = "~/Views/Shared/_LayoutReservation.cshtml";
}
@if (Model.ReservationId <= 0)
{
    <center> <h2 class="text-danger">@ViewData["Title"]</h2></center>
}
else
{
    <center> <h2 class="text-danger ">@ViewData["Title2"]</h2></center>
}
<style>
    .required:after {
        content: " *";
        color: red;
    }
</style>
@using (Html.BeginForm(FormMethod.Post, new { id = "Reserve" }))
{
    <div class="container border rounded-3  pt-3  bg-light text-dark w-50">
        @Html.HiddenFor(m => m.ReservationId )
        <div class="mb-3  row justify-content-center">
            <div class="col-3">
                <label class="form-label required">Customer Name</label>
            </div>
            <div class="col-4">
                @Html.DropDownListFor(model => model.CustomerId,Model.CustomerList  , new { @class="form-control"})
            </div>
        </div>
        <div class="mb-3  row justify-content-center">
            <div class="col-3">
                <label class="form-label required">From</label>
            </div>
            <div class="col-4">
                @Html.DropDownListFor(model => model.From,Model.FromList, new {@onChange="getBusDetail()" , required = "required", @class="form-control"})
                </div>
        </div>
        <div class="mb-3  row justify-content-center">
            <div class="col-3">
                <label class="form-label required">To</label>
            </div>
            <div class="col-4">
                @Html.DropDownListFor(model => model.To,Model.ToList  , new {@onChange="getBusDetail()", required = "required" ,@class="form-control"})
            </div>
        </div>
        <div class="mb-3  row justify-content-center">
            <div class="col-3">
                <label class="form-label required">Date</label>
            </div>
            <div class="col-4">
                @Html.TextBoxFor(m => m.Reservationdate , new {@class="form-control", required = "required" ,type="date" })
            </div>
        </div>
        <div class="mb-3  row justify-content-center">
            <div class="col-3">
                <label class="form-label">Bus Number</label>
            </div>
            <div class="col-4">
                <label class="form-label" id="busNumber"></label>
            </div>
        </div>
        <div class="mb-3  row justify-content-center">
            <div class="col-3">
                <label class="form-label">Available Seats</label>
            </div>
            <div class="col-4">
                <label class="form-label" id="availableSeat"></label>
            </div>
        </div>
        <div class="mb-3  row justify-content-center">
            <div class="col-3">
                <label class="form-label">Reserved Seats</label>
            </div>
            <div class="col-4">
                <label class="form-label" id="reservedSeat"></label>
            </div>
        </div>
        <div class="mb-3  row justify-content-center">
            <div class="col-3">
                <label class="form-label">Number Of BookingSeats</label>
            </div>
            <div class="col-4">
                @Html.TextBoxFor(m => m.NumberOfSeats , new {@class="form-control", required = "required" ,type ="number",min = "1" ,max = "50"})
            </div>
        </div>
        <div class="mb-3 row justify-content-center">
            <div class="col-3">
                <button type="submit" class="btn btn-outline-primary">Submit</button>
                
            </div>
        </div>

    </div>
}

<table id="busList" class="table table-striped table-bordered" style="display:none">
    <thead style="background-color:#ddd;">
    <tr>
            <th class="text-center">Bus Id</th>
            <th class="text-center">Bus Name</th>
            <th class="text-center">Bus Number</th>
            <th class="text-center">Ticket Price</th>
            <th class="text-center">Total Seats</th>
            <th class="text-center">Trip Start Time</th>
            <th>Trip End Time</th>
            <th>Action</th>
    </tr>
  </thead>
  <tbody>
    
  </tbody>
  </table>

